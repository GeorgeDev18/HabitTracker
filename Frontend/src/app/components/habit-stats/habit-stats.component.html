<div class="habit-stats-container">
  <button type="button" class="btn btn-primary" routerLink="/list-habits">Organizar semana</button>
  <button type="button" class="btn btn-primary" (click) = "resetWeek()">Reiniciar semana</button>
  
  <br>
  <div class="day-selector">
    <select (change)="onDayChange($event)">
      <option value="" disabled selected>Seleccione un día</option>
      <option *ngFor="let day of daysOfWeek" [value]="day">{{ day }}</option>
    </select>
  </div>

  <ng-container *ngIf="selectedDay">
    <div class="habits-list">
      <h3>Hábitos para {{ selectedDay }}:</h3>
      <ul >
        <li *ngFor="let habit of getFilteredHabits()">
          <input type="checkbox" [(ngModel)]="habit.state">
          <strong>{{ habit.name }}</strong>: {{ habit.description }}
        </li>
      </ul>
    </div>
  </ng-container>

  <div class="weekly-calendar">
    <h3>Calendario Semanal:</h3>
    <div class="calendar-grid">
      <div *ngFor="let day of daysOfWeek" class="calendar-day" [class.has-habits]="hasHabits(day)">
        <h4>{{ day }}</h4>
        <ul style="list-style: none;">
          <li *ngFor="let habit of getHabitsForDay(day)">
            <input type="checkbox" [(ngModel)]="habit.state">
            <strong>{{ habit.name }}</strong>
          </li>
        </ul>
      </div>
    </div>
  </div>
</div>

